(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1177:function(e,t,n){"use strict";var r=n(3),c=Object(r.b)({props:{user:{type:Object,default:null}},setup:function(e){var t=Object(r.c)(),n=Object(r.r)(),c=Object(r.a)((function(){return n.getters.USER||{}}));return{isVisible:Object(r.a)((function(){var t,n;return e.user?!e.user.isBindedPhone:!!(null===(t=c.value)||void 0===t?void 0:t.id)&&!(null===(n=c.value)||void 0===n?void 0:n.isBindedPhone)})),bindPhone:function(){null==t||t.proxy.$requestBindPhoneNumber()}}}}),o=(n(1201),n(28)),component=Object(o.a)(c,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"auth-card"},[n("transition",{attrs:{name:"fade"}},[e.isVisible?n("div",{staticClass:"auth-cover"},[n("span",{staticClass:"hint"}),e._v("\n      您需要\n      "),n("a",{on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.bindPhone(t)}}},[e._v("绑定手机号")]),e._v("\n      后才可在社区内发布内容。\n    ")]):e._e()]),e._v(" "),e._t("default")],2)}),[],!1,null,"34f85b71",null);t.a=component.exports},1178:function(e,t,n){"use strict";var r=n(8),c=n(1202),o=n.n(c),l=Object(r.d)({components:{EmotionIcon:o.a,Picker:function(){return n.e(8).then(n.bind(null,1988))}},props:{label:{type:String,default:"表情"}},emits:["selectEmoji"],setup:function(e,t){var n=t.root,c=t.emit,o=Object(r.q)(!1);var l=Object(r.q)(!1),d=Object(r.v)(o,(function(){l.value=!0,d()}));return{once:l,visible:o,toggleShow:function(){n.$validLoginAndBindPhone()&&(o.value=!o.value)},hide:function(){o.value=!1},handleChange:function(e){c("selectEmoji",e.source)}}}}),d=(n(1203),n(28)),component=Object(d.a)(l,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"outer-click",rawName:"v-outer-click",value:e.hide,expression:"hide"}],staticClass:"emoji-container"},[n("div",{staticClass:"emoji-box",class:e.visible&&"active",on:{click:e.toggleShow}},[n("EmotionIcon",{staticClass:"icon"}),e._v(" "),e.label?n("span",[e._v(e._s(e.label))]):e._e()],1),e._v(" "),n("transition",{attrs:{name:"fade"}},[e.once?n("Picker",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"visible"}],on:{change:e.handleChange}}):e._e()],1)],1)}),[],!1,null,"0c6d399b",null);t.a=component.exports},1201:function(e,t,n){"use strict";n(978)},1202:function(e,t,n){n(18),n(16),n(13),n(6),n(15);var r=n(127),c=n(165);function o(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}e.exports={functional:!0,render:function(e,t){var n=t._c,data=(t._v,t.data),l=t.children,d=void 0===l?[]:l,f=data.class,v=data.staticClass,style=data.style,m=data.staticStyle,F=data.attrs,x=void 0===F?{}:F,h=c(data,["class","staticClass","style","staticStyle","attrs"]);return n("svg",function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?o(Object(source),!0).forEach((function(t){r(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):o(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({class:[f,v],style:[style,m],attrs:Object.assign({width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},x)},h),d.concat([n("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M8.00002 0.666504C12.0501 0.666504 15.3334 3.94975 15.3334 7.99984C15.3334 12.0499 12.0501 15.3332 8.00002 15.3332C3.94993 15.3332 0.666687 12.0499 0.666687 7.99984C0.666687 3.94975 3.94993 0.666504 8.00002 0.666504ZM8 2C4.68629 2 2 4.68629 2 8C2 11.3137 4.68629 14 8 14C11.3137 14 14 11.3137 14 8C14 4.68629 11.3137 2 8 2ZM10.6667 5.66667V7.66667H9.33333V5.66667H10.6667ZM6.66667 5.66667V7.66667H5.33333V5.66667H6.66667ZM10.0767 9.33333H11.0495C11.1804 9.33333 11.2866 9.43951 11.2866 9.57048C11.2866 9.60754 11.2779 9.64409 11.2612 9.67718L11.244 9.71053C10.6294 10.8739 9.40726 11.6667 7.99998 11.6667C6.61523 11.6667 5.40977 10.8991 4.7859 9.76612L4.73786 9.67593C4.67845 9.56052 4.72385 9.4188 4.83926 9.35939C4.87253 9.34226 4.90941 9.33333 4.94683 9.33333H5.92347C6.02396 9.33332 6.11908 9.37865 6.18238 9.4567C6.26207 9.55496 6.32833 9.62955 6.38117 9.68046C6.80074 10.0847 7.37133 10.3333 7.99998 10.3333C8.63289 10.3333 9.20694 10.0814 9.62728 9.67224C9.67791 9.62296 9.74135 9.55121 9.8176 9.45698C9.88089 9.37877 9.97611 9.33333 10.0767 9.33333Z"}})]))}}},1203:function(e,t,n){"use strict";n(979)},890:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return c})),n.d(t,"d",(function(){return o})),n.d(t,"e",(function(){return l})),n.d(t,"a",(function(){return d}));var r=["jpg","jpeg","png","gif","webp"],c=5242880,o=9,l=1e3,d=["jpg","png","gif"]},896:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));n(37),n(26),n(27),n(443),n(6);var r=[{name:"jpg",regx:/^ffd8ff/},{name:"gif",regx:/^474946/},{name:"png",regx:/89504e47/},{name:"webp",regx:/57454250/},{name:"bmp",regx:/^424d/},{name:"any",regx:/./}];function c(e,t){return function(e){return new Promise((function(t,n){var r=new FileReader;r.onload=function(e){return t(e.target.result)},r.onerror=function(e){return n(e)},r.readAsArrayBuffer(e.slice(0,64))}))}(e).then(o).then(l.bind(null,t))}function o(e){return Array.prototype.slice.call(new Uint8Array(e)).reduce((function(e,data){return e+data.toString(16)}),"")}function l(e,header){for(var i=0;i<r.length;i++)if(r[i].regx.test(header))return-1!==e.indexOf(r[i].name);return!1}},913:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));n(13),n(52),n(6),n(19);var r=n(5),c=n(123),o=n(14),l=n(1),d=n(170);function f(e,t){return v.apply(this,arguments)}function v(){return(v=Object(r.a)(regeneratorRuntime.mark((function e(t,l){var f,v,x,h;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.e(161).then(n.t.bind(null,1119,7));case 3:return f=e.sent,v=f.default,e.next=7,m();case 7:return x=e.sent,h=function(e){return new Promise((function(n,r){try{var c=new v({userId:t,appId:o.c,imageConfig:{serviceId:"k3u1fbpfcp"}}),l=c.addFile({file:e,stsToken:x,type:"image"});c.on("complete",(function(e){n(e.uploadResult)})),c.on("error",(function(e){console.log(e.extra,"bytedUploader Error"),r(e.extra)})),c.start(l)}catch(e){r(e)}}))},e.next=11,Promise.all(l.map(function(){var e=Object(r.a)(regeneratorRuntime.mark((function e(t){var n,r,o,l,f,v;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h(t);case 2:return n=e.sent,r=n.ImageHeight,o=n.ImageWidth,l=n.Uri,e.next=8,F(l);case 8:return f=e.sent,e.next=11,Object(c.imageSourceExtra)(f.data.main_url).then((function(e){return d.a.transform(e,{format:"image"})})).catch((function(){return console.warn("imageSourceExtra fail"),f.data.main_url}));case 11:return v=e.sent,e.abrupt("return",{ImageHeight:r,ImageWidth:o,Uri:l,Url:v});case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 11:return e.abrupt("return",e.sent);case 14:throw e.prev=14,e.t0=e.catch(0),new Error("上传图片失败");case 17:case"end":return e.stop()}}),e,null,[[0,14]])})))).apply(this,arguments)}function m(){return Object(l.d)({url:"/imagex/gen_token",query:{client:"web"}}).then((function(e){return e.data.token}))}function F(e){return Object(l.d)({url:"/imagex/get_img_url",query:{uri:e}})}},914:function(e,t,n){"use strict";n.d(t,"d",(function(){return c})),n.d(t,"g",(function(){return o})),n.d(t,"b",(function(){return f})),n.d(t,"f",(function(){return v})),n.d(t,"a",(function(){return m})),n.d(t,"c",(function(){return F})),n.d(t,"e",(function(){return x})),n.d(t,"h",(function(){return h}));n(111),n(110),n(44);var r=n(194);function c(e){e.preventDefault(),window.getSelection().deleteFromDocument&&window.getSelection().deleteFromDocument();try{var text=window.clipboardData.getData("Text");try{window.getSelection().createRange().pasteHTML(text)}catch(e){var t=document.createTextNode(text);window.getSelection().getRangeAt(0).insertNode(t)}}catch(t){var n=(e.originalEvent||e).clipboardData.getData("text/plain");document.execCommand("insertText",!1,n)}}function o(e){if(document.createRange){var t=document.createRange();t.selectNodeContents(e),t.collapse(!1);var n=window.getSelection();n.removeAllRanges(),n.addRange(t)}else if(document.selection){var r=document.body.createTextRange();r.moveToElementText(e),r.collapse(!1),r.select()}}function l(){return"function"==typeof document.createRange||"function"==typeof window.getSelection}function d(){var e=null,t=null;return l?(t=document.getSelection()).getRangeAt&&t.rangeCount&&(e=document.getSelection().getRangeAt(0)):e=document.selection.createRange(),e}function f(html){var text=html;return text=text.replace(/<\s*script[^>]*>[\s\S]*?<\/script>/gim,"").replace(/<\s*style[^>]*>[\s\S]*?<\/style>/gim,"").replace(/<!--.*?-->/gim,"").replace(/<!DOCTYPE.*?>/gi,"").replace(/<\/div>/gi,"").replace(/(<br><div>|<div>|<br>)/gi,"\n").replace(/&nbsp;/gi,"").replace(/<.*?>/gi,"").replace(/&lt;/gi,"<").replace(/&amp;/gi,"&").replace(/&gt;/gi,">").replace(/&#39;/gi,"'").replace(/&quot;/g,'"')}function v(e,t){var n="",r=e.clipboardData.items;if(r){for(var i=0;i<r.length;i++)-1!=r[i].type.indexOf("image")&&(n=r[i].getAsFile());"function"==typeof t&&n&&t(n)}}function m(e){window.getSelection().deleteFromDocument&&window.getSelection().deleteFromDocument();try{return window.clipboardData.getData("Text")}catch(t){return(e.originalEvent||e).clipboardData.getData("text/plain")}}function F(e,html){var t,n,r=d();if(r&&function e(t,n){return!(!n||!t)&&(t===n||e(t,n.parentElement))}(e,r.startContainer)||o(e),e.focus(),window.getSelection){if((t=window.getSelection()).getRangeAt&&t.rangeCount){(n=t.getRangeAt(0)).deleteContents(),(e=document.createElement("div")).innerHTML=html;for(var c,l,f=document.createDocumentFragment();c=e.firstChild;)l=f.appendChild(c);n.insertNode(f),l&&((n=n.cloneRange()).setStartAfter(l),n.collapse(!0),t.removeAllRanges(),t.addRange(n))}}else document.selection&&"Control"!=document.selection.type&&document.selection.createRange().pasteHTML(html)}function x(e){var t=d(),n=t.startContainer;if(3===n.nodeType){for(var text=n.nodeValue,c=t.startOffset-1,o=t.endOffset-1,f=[];c>=0;){if("["===text[c]){f[0]=c;break}c--}for(;o<=text.length-1;){if("]"===text[o]){f[1]=o;break}o++}if(void 0!==f[0]&&void 0!==f[1]){var v=text.slice(f[0],f[1]+1),m=Object(r.d)(v);if(m){var x=document.createRange();x.setStart(n,f[0]),x.setEnd(n,f[1]+1),function(e){if(e){var t=null,n=null;l?((n=document.getSelection()).removeAllRanges(),n.addRange(e)):((t=document.selection.createRange()).setEndPoint("EndToEnd",e),0===e.text.length?t.collapse(!1):t.setEndPoint("StartToStart",e),t.select())}}(x),F(e,m)}}}}function h(content){var e;if(!content)return 0;var t,n,c=content.replace(r.a,(function(){return" o "})).replace(r.b,(function(){return" o "})),o=(n=/```mermaid(?:(?![])[\s\S])*?```?/g,t=(t=c).replace(n,""),n=/\$[\s\S]+?\$\$|\$[\s\S]+?\$/g,t=t.replace(n,""),n=/[\s\S]*\x2D\x2D\x2D\ntheme:[\s\S]*?\n\x2D\x2D\x2D/g,t=t.replace(n,""),n=/[\s\S]*\x2D\x2D\x2D\nhighlight:[\s\S]*?\n\x2D\x2D\x2D/g,t=t.replace(n,""),n=/<[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uFEFE\uFF00-\uFFFF]+?>/g,t=t.replace(n,(function(e){return e.toLowerCase()})),n=/<link[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uFEFE\uFF00-\uFFFF]+?<\/link>/g,t=t.replace(n,""),n=/<style[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uFEFE\uFF00-\uFFFF]+?<\/style>/g,t=t.replace(n,""),n=/<script[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uFEFE\uFF00-\uFFFF]+?<\/script>/g,t=t.replace(n,""),n=/<[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uFEFE\uFF00-\uFFFF][\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+?>/g,t=t.replace(n,"\n"),n=/[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]{2,}/g,t=t.replace(n,"\n"),n=/!\[.*\]\(http.*?\)/g,t=t.replace(n,""),n=new RegExp("((http|https):\\/\\/)?[\\w\\-_]+(\\.[\\w\\-_]+)+([\\w.,@?^=%&:\\/~+#-]*[\\w@?^=%&\\/~+#-])?","gs"),t=t.replace(n,""),n=/<[^>\n\u4e00-\u9fff]*>/g,(t=t.replace(n,"")).trim()),l=new RegExp("[一-龿㐀-䶿぀-ゟ゠-ヿ]|[a-zA-Z]+|\\d","g"),d=o.match(l);return d&&(null==d?void 0:d.length)&&null!==(e=null==d?void 0:d.length)&&void 0!==e?e:0}},928:function(e,t,n){"use strict";function r(e,t){if((10==e.keyCode||13==e.keyCode)&&(e.ctrlKey||e.metaKey))return t()}n.d(t,"a",(function(){return r}))},978:function(e,t,n){},979:function(e,t,n){}}]);
//# sourceMappingURL=e336114.js.map