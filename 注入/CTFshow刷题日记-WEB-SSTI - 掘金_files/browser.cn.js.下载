!function(){"use strict";var w=function(){return(w=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o]);return n}).apply(this,arguments)};function C(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var r,o,i=e.call(n),u=[];try{for(;(void 0===t||0<t--)&&!(r=i.next()).done;)u.push(r.value)}catch(n){o={error:n}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(o)throw o.error}}return u}function b(n,t,e){if(e||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||((r=r||Array.prototype.slice.call(t,0,o))[o]=t[o]);return n.concat(r||Array.prototype.slice.call(t))}function v(n){return JSON.stringify({ev_type:"batch",list:n})}var _=["init","start","config","beforeDestroy","provide","beforeReport","report","beforeBuild","build","beforeSend","send","beforeConfig"],E=function(){return{}};function x(n){return n}function S(n){return"object"==typeof n&&null!==n}var t=Object.prototype;function i(n){if(S(n)){if("function"!=typeof Object.getPrototypeOf)return"[object Object]"===t.toString.call(n);n=Object.getPrototypeOf(n);return n===t||null===n}}function u(n){return"[object Array]"===t.toString.call(n)}function l(n){return"function"==typeof n}function a(n){return"number"==typeof n}function s(n){return"string"==typeof n}function o(n){return"undefined"!=typeof Event&&function(n,t){try{return n instanceof t}catch(n){return}}(n,Event)}function d(n,t){var e,r,o=w({},n);for(e in t)r=e,Object.prototype.hasOwnProperty.call(t,r)&&void 0!==t[e]&&(S(t[e])&&i(t[e])?o[e]=d(S(n[e])?n[e]:{},t[e]):u(t[e])&&u(n[e])?o[e]=function t(n,e){n=u(n)?n:[];e=u(e)?e:[];return Array.prototype.concat.call(n,e).map(function(n){return n instanceof RegExp?n:S(n)&&i(n)?d({},n):u(n)?t([],n):n})}(n[e],t[e]):o[e]=t[e]);return o}function R(n,t){if(!u(n))return!1;if(0===n.length)return!1;for(var e=0;e<n.length;){if(n[e]===t)return!0;e++}return!1}function j(n,t){if(!u(n))return n;var e=n.indexOf(t);if(0<=e){t=n.slice();return t.splice(e,1),t}return n}function p(n,t,e){for(var r,o=(t=C(t.split(".")))[0],i=t.slice(1);n&&0<i.length;)n=n[o],o=(r=C(i))[0],i=r.slice(1);if(n)return e(n,o)}function c(n){return n.replace(/([a-z])([A-Z])/g,function(n,t,e){return t+"-"+e.toLowerCase()})}function e(n){return u(n)&&n.length?function(n){for(var t=[],e=n.length,r=0;r<e;r++){var o=n[r];s(o)?t.push(o.replace(/([.*+?^=!:${}()|[\]/\\])/g,"\\$1")):o&&o.source&&t.push(o.source)}return new RegExp(t.join("|"),"i")}(n):null}function f(n){try{return s(n)?n:JSON.stringify(n)}catch(n){return"[FAILED_TO_STRINGIFY]:"+String(n)}}function h(i,u,a,c){return void 0===c&&(c=!0),function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];if(!i)return E;var e=i[u],r=a.apply(void 0,b([e],C(n),!1)),o=r;return l(o)&&c&&(o=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return r.apply(this,t)}catch(n){return l(e)&&e.apply(this,t)}}),i[u]=o,function(n){n||(o===i[u]?i[u]=e:r=e)}}}function O(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];console.warn.apply(console,b(["[SDK]",Date.now(),r(""+A++)],C(n),!1))}function T(r){return function(n){for(var t=n,e=0;e<r.length&&t;e++)try{t=r[e](t)}catch(n){y(n)}return t}}var g=function(i,u,a){return function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];if(!i)return E;var e=i[u],r=a.apply(void 0,b([e],C(n),!1)),o=r;return l(o)&&(o=function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];return r.apply(this,n)}),i[u]=o,function(){o===i[u]?i[u]=e:r=e}}},r="".padStart?function(n,t){return n.padStart(t=void 0===t?8:t," ")}:function(n){return n},m=0,y=function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];console.error.apply(console,b(["[SDK]",Date.now(),r(""+m++)],C(n),!1))},A=0,L=function(n){return Math.random()<Number(n)},k=function(n,t){return n<Number(t)},I=function(r){return function(n){for(var t=!0,e=0;e<r.length&&t;e++)try{t=r[e](n)}catch(n){y(n)}return t}};function q(){var n=function(){for(var n=new Array(16),t=0,e=0;e<16;e++)0==(3&e)&&(t=4294967296*Math.random()),n[e]=t>>>((3&e)<<3)&255;return n}();return n[6]=15&n[6]|64,n[8]=63&n[8]|128,function(n){for(var t=[],e=0;e<256;++e)t[e]=(e+256).toString(16).substr(1);var r=0,o=t;return[o[n[r++]],o[n[r++]],o[n[r++]],o[n[r++]],"-",o[n[r++]],o[n[r++]],"-",o[n[r++]],o[n[r++]],"-",o[n[r++]],o[n[r++]],"-",o[n[r++]],o[n[r++]],o[n[r++]],o[n[r++]],o[n[+r]],o[n[15]]].join("")}(n)}function D(r,n){var t=[];try{t=n.reduce(function(n,t){try{var e=t(r);"function"==typeof e&&n.push(e)}catch(n){}return n},[])}catch(n){}return function(n){return D(n,t)}}function N(n,r){var o=C(n,1)[0];return function(t,n){var e=o(function(n){return I(r)(n)?t(n):E});n(function(){e()})}}var B=function(n){function t(n){a=j(a,n),f||s()}var e,r,o,i,u,a=[],c=[],f=!1,s=(r=function(){return a.length},o=function(){f=!0,e&&e[0](),c.forEach(function(n){return n()}),c.length=0,e=void 0},-1===(i=n=void(u=0)===n?3e5:n)?E:function(){if(r())return u&&clearTimeout(u),void(u=0);0===u&&(u=setTimeout(o,i))});return{next:function(n){return D(n,a)},complete:function(n){c.push(n)},attach:function(n,t){e=[n,t]},subscribe:function(n){if(f)throw new Error("Observer is closed");return a.push(n),e&&e[1]&&e[1](n),s(),function(){return t(n)}},unsubscribe:t}},P=function(n,t,e){e=B(e);try{n(e.next,e.attach),t&&e.complete(t)}catch(n){}return[e.subscribe,e.unsubscribe]};function H(){function r(n){n.length&&n.forEach(function(n){try{n()}catch(n){}}),n.length=0}function t(n){i[n]&&i[n].forEach(function(n){r(n[1])}),i[n]=void 0}var o=!1,i={};return{set:function(n,t,e){i[n]?i[n].push([t,e]):i[n]=[[t,e]],o&&r(e)},has:function(n){return!!i[n]},remove:t,removeByEvType:function(t){Object.keys(i).forEach(function(n){i[n]&&i[n].forEach(function(n){n[0]===t&&r(n[1])})})},clear:function(){o=!0,Object.keys(i).forEach(function(n){t(n)})}}}function M(n,t,e,r){return n.destroyAgent.set(t,e,r)}var U=function(n){var e,r,o,t=(e={},r={},o={set:function(n,t){return e[n]=t,r[n]=f(t),o},merge:function(t){return e=w(w({},e),t),Object.keys(t).forEach(function(n){r[n]=f(t[n])}),o},delete:function(n){return delete e[n],delete r[n],o},clear:function(){return e={},r={},o},get:function(n){return r[n]},toString:function(){return w({},r)}});n.provide("context",t),n.on("report",function(n){return n.extra||(n.extra={}),n.extra.context=t.toString(),n})},z=function(a,c,e){function f(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];var e=n[0];if(e){var r=e.split(".")[0];if(r in f)return i=f,u=e,o=[].slice.call(n,1),p(i,u,function(n,t){if(n&&t in n&&l(n[t]))try{return n[t].apply(n,o)}catch(n){return}});var o,i=s[r]||[],u=null!==(u=null==c?void 0:c(a))&&void 0!==u?u:{};i.push(b([u],C(n),!1)),void(s[r]=i)}}var n,s={};for(n in h(a,"provide",function(e){return function(n,t){f[n]=t,e.call(a,n,t)}})(),a)Object.prototype.hasOwnProperty.call(a,n)&&(f[n]=a[n]);return a.on("provide",function(n){s[n]&&(s[n].forEach(function(n){var t=C(n),n=t[0],t=t.slice(1);null!=e&&e(a,n,t)}),s[n]=null)}),f};function F(r,o){r.on("init",function(){function n(n){n.forEach(function(n){var t=n.name;R(e,t)||(e.push(t),n.setup(r),o&&o(t,n.setup),r.destroyAgent.set(t,t,[function(){e=j(e,t),n.tearDown&&n.tearDown()}]))})}var e=[];r.provide("applyIntegrations",n);var t=r.config();t&&t.integrations&&n(t.integrations)})}function X(n){return n.split(W)[0]}var W="_";function G(n,t){return n.initSubject(t)}function J(n,t,e){var t=C(t,2),r=t[0],t=t[1],o=n.privateSubject||{};return o[r]||(o[r]=P(t,function(){o[r]=void 0},e)),o[r]}var Y=function(){return Date.now()};function $(){if("object"==typeof window&&S(window))return window}function K(){if("object"==typeof document&&S(document))return document}function V(){if($()&&S(window.performance))return window.performance}function Q(){if($()&&l(window.MutationObserver))return window.MutationObserver}function Z(){if($()&&l(window.PerformanceObserver))return window.PerformanceObserver}function nn(){var n=function(){if($()&&"navigator"in window)return window.navigator}();if(n)return n.connection||n.mozConnection||n.webkitConnection}function tn(){if(!document)return null;if(document.currentScript)return document.currentScript;try{throw new Error}catch(n){var t=0,e=/at\s+(.*)\s+\((.*):(\d*):(\d*)\)/i.exec(n.stack),r=e&&e[2]||!1,o=e&&e[3]||0,i=document.location.href.replace(document.location.hash,""),u="",a=document.getElementsByTagName("script");for(r===i&&(e=document.documentElement.outerHTML,o=new RegExp("(?:[^\\n]+?\\n){0,"+(o-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i"),u=e.replace(o,"$1").trim());t<a.length;t++){if("interactive"===a[t].readyState)return a[t];if(a[t].src===r)return a[t];if(r===i&&a[t].innerHTML&&a[t].innerHTML.trim()===u)return a[t]}return null}}function en(n){var t=K();if(!t||!n)return"";t=t.createElement("a");return t.href=n,t.href}function rn(n){var t=K();if(!t||!n)return{url:n,protocol:"",domain:"",query:"",path:"",hash:""};t=t.createElement("a");t.href=n;n=t.pathname||"/";return"/"!==n[0]&&(n="/"+n),{url:t.href,protocol:t.protocol.slice(0,-1),domain:t.hostname,query:t.search.substring(1),path:n,hash:t.hash}}function on(){var n=$()&&$()&&window.location;return null==n?void 0:n.href}function un(t,n){void 0===n&&(n=!1);var e=sn(t);return n&&(e.timestamp=Y()),function(n){t.report(w(w({},n),{overrides:e}))}}function an(o){return function(e,n){function t(n){var t;n.viewId&&n.viewId!==(null===(t=o.config())||void 0===t?void 0:t.viewId)&&(e(r),r=w(w({},sn(o)),fn(n)))}var r=sn(o);o.on("beforeConfig",t),n(function(){o.off("beforeConfig",t)})}}function cn(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];var e=ln($());e&&(e.errors||(e.errors=[]),e.errors.push(n))}var fn=function(n){return{pid:n.pid,view_id:n.viewId,url:on()}},sn=function(n){var t=n.config(),t=fn(t);return t.context=n.context?n.context.toString():{},t},ln=function(n){if(n)return n.__SLARDAR_REGISTRY__||(n.__SLARDAR_REGISTRY__={Slardar:{plugins:[],errors:[],subject:{}}}),n.__SLARDAR_REGISTRY__.Slardar},dn=function(n,t){var e=n&&new n(t);return[function(n,t){e&&n&&e.observe(n,t)},function(){return e&&e.disconnect()}]},pn=function(n,t,e,r){var o,i=!l(t)||r&&n&&n.hidden?function(n){return n(0),0}:t,u=l(e)?e:E;return[function(n){o&&u(o),o=i(n)},i,u]},vn=function(e){var n=e&&e.timing||void 0;return[n,function(){return e&&e.now?e.now():(Date.now?Date.now():+new Date)-(n&&n.navigationStart||0)},function(n){var t=(e||{}).getEntriesByType;return l(t)&&t.call(e,n)||[]},function(){var n=(e||{}).clearResourceTimings;l(n)&&n.call(e)},function(n){var t=(e||{}).getEntriesByName;return l(t)&&t.call(e,n)||[]}]},hn=function(n){var t={url:on(),timestamp:Y()},e=n.config();return null!=e&&e.pid&&(t.pid=e.pid),null!=n&&n.context&&(t.context=n.context.toString()),t},gn=function(e,r){return function(n){function t(n){return n.overrides=r,n}e.on("report",t),n(),e.off("report",t)}};function mn(n){var t,e=$();e&&(t=C(bn(n),1)[0],["unload","beforeunload","pagehide"].forEach(function(n){e.addEventListener(n,t)}))}function yn(){return!!btoa&&!!atob}var bn=function(t){var e=!1;return[function(n){e||(e=!0,t&&t(n))}]},_n=function(n,t){var e,r=K();r&&((e=r.createElement("script")).src=n,e.crossOrigin="anonymous",e.onload=t,null!==(r=r.head)&&void 0!==r&&r.appendChild(e))},wn=function(n,t){return S(n)?w(w({},t),n):!!n&&t};function En(n){try{var t=localStorage.getItem(n),e=t,r=e=t&&"string"==typeof t?JSON.parse((u=t,yn()?decodeURI(atob(u)):u)):e,o=r.expires,i=function(n,t){var e={};for(o in n)Object.prototype.hasOwnProperty.call(n,o)&&t.indexOf(o)<0&&(e[o]=n[o]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,o=Object.getOwnPropertySymbols(n);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(n,o[r])&&(e[o[r]]=n[o[r]]);return e}(r,["expires"]);return o>=Y()?i:void 0}catch(n){return}var u}function xn(n,t,e){var r;if(!(e<=0))try{localStorage.setItem(n,(r=JSON.stringify(w(w({},t),{expires:Y()+e})),yn()?btoa(encodeURI(r)):r))}catch(n){}}function Sn(n){return!1===n?0:!0!==n&&void 0!==n&&a(n)?n:7776e6}function Rn(r){return function(n,t){var e;r&&((e=[]).push(g(r,"open",An)()),e.push(g(r,"setRequestHeader",Ln)()),e.push(g(r,"send",kn)(n)),t(function(){e.forEach(function(n){return n()})}))}}function jn(r,o){return function(n,t){var e=o([n,t=void 0===t?{}:t]),t=r(n,t);return t.then(function(n){e(n)},function(){e(void 0)}),t}}function On(n){var r=wn(n,Kn);if(r&&L(r.sampleRate))return function(n,t){var e=r.origins;e.length&&Boolean(n.match(new RegExp(e.join("|"))))&&t($n,Jn+"-"+Vn()+"-"+Vn().substring(16)+"-"+Yn)}}function Cn(n,t){return!n||!t||(Qn.test(n)||Zn.test(t))}function Tn(n,t,a){var e=C(t,2),t=e[0],c=e[1],f=a.setTraceHeader,s=a.ignoreUrls,l=a.setContextAtReq,d=a.extractUrl;n.push(t[0](function(n){var t=C(n,4);t[0];n=t[1];t[2];var e=t[3];if(!n||nt(s,n))return E;f&&f(n,function(n,t){return e.setRequestHeader(n,t)});var r=l(),o=en(n),i=void 0,u=c()[0](function(n){o!==n.name||i||(i=n)});return function(n){var t=rt(n,a);setTimeout(function(){i&&(t.response.timing=i),et(t,d),r&&r({ev_type:Fn,payload:t}),u()},100)}}))}var An=function(r){return function(){for(var n,t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return n=C(t,2),this._method=n[0],this._url=n[1],r.apply(this,t)}},Ln=function(o){return function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];this._reqHeaders=this._reqHeaders||{};var e=C(n,2),r=e[0],e=e[1];return this._reqHeaders[r]=e,o&&o.apply(this,n)}},kn=function(i,u){var t,a=(t=new RegExp("\\/monitor_web\\/collect|\\/monitor_browser\\/collect\\/batch","i"),function(n){return t.test(n)});return function(){for(var n,r,o,t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._start=Y(),this._data=null==t?void 0:t[0],a(this._url)||(n=u([this._method,this._url,this._start,this]),o=n,g(r=this,"onreadystatechange",function(e){return function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];return 4===this.readyState&&o(r),e&&e.apply(this,n)}})()),i.apply(this,t)}},In=["fetch_0",function(n,t){var e,r=$();r&&fetch&&((e=[]).push(g(r,"fetch",jn)(n)),t(function(){e.forEach(function(n){return n()})}))}],qn=["resource"],Dn=["longtask"],Nn=function(t,o,e){var r=t&&new t(function(n,r){n.getEntries?n.getEntries().forEach(function(n,t,e){return o(n,t,e,r)}):e&&e()});return[function(n){if(!t||!r)return e&&e();try{r.observe({entryTypes:n})}catch(n){return e&&e()}},function(n){if(!t||!r)return e&&e();try{r.observe({type:n,buffered:!0})}catch(n){return e&&e()}r.observe({type:n,buffered:!1})},function(){return r&&r.disconnect()}]},Bn=function(n,t,e){n=C(Nn(n,t),3),t=n[0],n=n[2];return t(e),n},Pn=["longtask_0",function(n,t){var e=Z();e&&t(Bn(e,n,Dn))}],Hn=["resource_0",function(n,t){var e=Z();e&&t(Bn(e,n,qn))}],Mn="pageview",Un="session",zn="js_error",Fn="http",Xn="custom",Wn="performance",Gn="action",Jn="03",Yn="01",$n="traceparent",Kn={sampleRate:1,origins:[]},Vn=function(){var n=window&&(window.crypto||window.msCrypto);if(void 0!==n&&n.getRandomValues){var t=new Uint16Array(8);n.getRandomValues(t);n=function(n){for(var t=n.toString(16);t.length<4;)t="0"+t;return t};return n(t[0])+n(t[1])+n(t[2])+n(t[3])+n(t[4])+n(t[5])+n(t[6])+n(t[7])}return"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx".replace(/[x]/g,function(){return(16*Math.random()|0).toString(16)})},Qn=new RegExp("(cookie|auth|jwt|token|key|ticket|secret|credential|session|password)","i"),Zn=new RegExp("(bearer|session)","i"),nt=function(n,t){n=e(n||[]);return!!n&&n.test(t)},tt=function(t){var e=!1;return function(n){e||(e=!0,t(n))}},et=function(n,t){try{var e;t&&(e=n.request.url,n.request.url=t(e),n.extra=w(w({},n.extra),{original_url:e}))}catch(n){}};var rt=function(n,t){var e,r=n._method,o=n._reqHeaders,i=n._url,u=n._start,a=n._data,o={api:"xhr",request:{url:en(i),method:(r||"").toLowerCase(),headers:o&&(e=o,Object.keys(e).reduce(function(n,t){return Cn(t,e[t])||(n[t.toLowerCase()]=e[t]),n},{})),timestamp:u},response:{status:n.status||0,is_custom_error:!1,timestamp:Y()},duration:Y()-u};"function"==typeof n.getAllResponseHeaders&&(o.response.headers=s(c=n.getAllResponseHeaders())&&c?c.split("\r\n").reduce(function(n,t){var e;return s(t)&&(t=(e=C(t.split(": "),2))[0],e=e[1],Cn(t,e)||(n[t.toLowerCase()]=e)),n},{}):{});var u=o.response.status,c=t.collectBodyOnError,t=t.extraExtractor;try{var f=null==t?void 0:t(n.response,o,a);f&&(o.extra=f),f&&(o.response.is_custom_error=!0),c&&(f||400<=u)&&(o.request.body=a?""+a:void 0,o.response.body=n.response?""+n.response:void 0)}catch(n){}return o};function ot(n,t,e){t=null===(n=n.config())||void 0===n?void 0:n.plugins[t];return wn(t,e)}var it="ajax",ut={autoWrap:!0,setContextAtReq:function(){return x},ignoreUrls:[],collectBodyOnError:!1};function at(n,t,f){var e=C(t,2),t=e[0],s=e[1],l=f.setTraceHeader,d=f.ignoreUrls,p=f.setContextAtReq,v=f.extractUrl,h=window.Headers,g=window.Request;g&&h&&n.push(t[0](function(n){var n=C(n,2),r=n[0],o=n[1],t=en(r instanceof g?r.url:r);if(!dt(t)||nt(d,t))return E;l&&l(t,function(n,t){return pt(n,t,r,o,g,h)});var i=p(),u=Y(),a=void 0,c=s()[0](function(n){t!==n.name||a||(a=n)});return function(n){var t=vt(r,o,n,g,h,f,u),e=tt(function(n){a&&(n.response.timing=a),et(n,v),i&&i({ev_type:Fn,payload:n}),c()});setTimeout(function(){e(t)},1e3)}}))}function ct(n,t){return n instanceof t}function ft(n,t,e){return t=t&&t.method||"get",(t=ct(n,e)?n.method||t:t).toLowerCase()}function st(t){for(var n=[],e=1;e<arguments.length;e++)n[e-1]=arguments[e];try{return n.reduce(function(e,n){return new t(n||{}).forEach(function(n,t){return!Cn(t,n)&&(e[t]=n)}),e},{})}catch(n){return{}}}function lt(n,t,e){return ct(n,e)?n.body:null==t?void 0:t.body}var dt=function(n){if(!s(n))return!1;var t=C(n.split(":"),2),n=t[0];return!t[1]||"http"===n||"https"===n},pt=function(n,t,e,r,o,i){ct(e,o)?e.headers.set(n,t):r.headers instanceof i?r.headers.set(n,t):r.headers=w(w({},r.headers),((r={})[n]=t,r))},vt=function(t,e,n,r,o,i,u){function a(){var n;f&&(c.request.body=null===(n=lt(t,e,r))||void 0===n?void 0:n.toString())}var c={api:"fetch",request:{method:ft(t,e,r),timestamp:u,url:en(t instanceof r?t.url:t),headers:st(o,t.headers,e.headers)},response:{status:n&&n.status||0,is_custom_error:!1,timestamp:Y()},duration:Y()-u},f=i.collectBodyOnError,s=i.extraExtractor;if(n)try{c.response.headers=st(o,n.headers);try{s&&n.clone().json().then(function(n){n=s(n,c,null===(n=lt(t,e,r))||void 0===n?void 0:n.toString());n&&(c.extra=n,c.response.is_custom_error=!0,a())}).catch(E)}catch(n){}400<=n.status&&a()}catch(n){}else a();return c},ht="fetch",gt={autoWrap:!0,setContextAtReq:function(){return x},ignoreUrls:[],collectBodyOnError:!1};function mt(n){var t,e,r;return!function(n){switch(Object.prototype.toString.call(n)){case"[object Error]":case"[object Exception]":case"[object DOMError]":case"[object DOMException]":return 1;default:return n instanceof Error}}(n)?(i(n)||o(n)||s(n))&&(t={message:f(n)}):(r=Et,t=(e=n)&&S(e)?r.reduce(function(n,t){return n[t]=e[t],n},{}):e),t}function yt(n){return"[object ErrorEvent]"===Object.prototype.toString.call(n)?mt(n.error):("[object PromiseRejectionEvent]"===Object.prototype.toString.call(n)?function(n){var t;try{var e=void 0;if("reason"in n?e=n.reason:"detail"in n&&"reason"in n.detail&&(e=n.detail.reason),e){var r=mt(e);return w(w({},r),{name:null!==(t=r&&r.name)&&void 0!==t?t:"UnhandledRejection"})}}catch(n){}}:mt)(n)}function bt(n){return"hidden"===n.visibilityState}function _t(n){return"complete"===n.readyState}function wt(n){return At(n,Y())}var Et=["name","message","stack","filename","lineno","colno"],xt="jsError",St=["hidden_2",function(n,t){var e,r=$(),o=K();r&&o&&(e=function(){n(bt(o))},addEventListener("visibilitychange",e,!0),t(function(){removeEventListener("visibilitychange",e,!0)},function(n){n(bt(o))}))}],Rt=["load_1",function(n,t){var e,r,o=$(),i=K();o&&i&&(e=!1,r=function(){setTimeout(function(){n(),e=!0},0)},_t(i)?r():o.addEventListener("load",r,!1),t(function(){o.removeEventListener("load",r,!1)},function(n){e&&n()}))}],jt=["unload_0",function(n,t){var e,r,o,i=$();i&&(e=C(bn(n),1)[0],o=function(){e()},(r=["unload","beforeunload","pagehide"]).forEach(function(n){i.addEventListener(n,o)}),t(function(){r.forEach(function(n){i.removeEventListener(n,o)})}))}],Ot=["hash_0",function(n,t){var e,r=$();r&&(r.addEventListener("hashchange",e=function(){return n(location.href)},!0),t(function(){return r.removeEventListener("hashchange",e,!0)}))}],Ct=["history_0",function(n,t){var e,r,o,i=$()&&window.history;i&&(r=function(){return n(location.href)},(e=[]).push(h(i,"pushState",o=function(e){return function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];try{e.apply(i,n)}finally{r()}}})(),h(i,"replaceState",o)()),window.addEventListener("popstate",r,!0),e.push(function(){return window.removeEventListener("popstate",r,!0)}),t(function(){e.forEach(function(n){return n()})}))}],Tt=function(e){return function(n){var t;return"hash"===e?(null===(t=rn(n).hash)||void 0===t?void 0:t.replace(/^#/,""))||"/":rn(n).path}},At=function(n,t){return n+"_"+t},Lt=function(r,n,t,o){var i=t,u=n;o&&o(n);return[function(n,t,e){"user_set"!==n&&t!==i?(i=t,u=null!=e?e:i,o&&o(u),r(n,u)):"user_set"===n&&t!==u&&(u=t,o&&o(u),r(n,u))},function(){n&&r("init",n)}]},kt=function(e,n){var r=n;return[function(n,t){t!==r&&e(n,r=t)}]},It=function(e){return function(n,t){e({ev_type:Mn,payload:{pid:t,source:n}})}},qt=function(n){return"manual"===n},Dt="error_weight",Nt="duration_apdex",Bt="perf_apdex",Pt=function(n,t){var e=n[0]+n[1]+n[2],r=n[0]/e;return n[2]/e>t.frustrating_threshold?2:r>t.satisfying_threshold||0===e?0:1},Ht=function(){var t=0,e=void 0;return[function(n){n?e&&(t+=Y()-e,e=void 0):e=Y()},function(){e&&(t+=Y()-e);var n=t;return t=0,e=Y(),n}]},Mt=function(o,i){return function(n,t){var e=n.payload;switch(n.ev_type){case Wn:var r=e.name;e.isSupport&&o(t[Bt],r,e.value);break;case Gn:o(t[Bt],"action",e.duration||0);break;case zn:i(t[Dt],0);break;case Fn:e.response.is_custom_error||400<=e.response.status?i(t[Dt],1):(r=e.response.timing)&&o(t[Nt],0,r.duration);break;case"resource_error":i(t[Dt],2);break;case"blank_screen":i(t[Dt],3);break;case"resource":o(t[Nt],1,e.duration);break;case"performance_longtask":e.longtasks.forEach(function(n){o(t[Nt],2,n.duration)})}}},Ut=function(){function n(){o=[0,0,0],i={error_count:[0,0,0,0],duration_count:[0,0,0],perf_apdex:{}}}var o,i;n();return[function(n,t,e){var r=n&&n[t];!r||e<=0||(n=e<(r[0].threshold||0)?0:e>(r[1].threshold||0)?2:1,o[n]+=r[n].weight,"string"==typeof t?(e=At(t,n),r=i[Bt][e],i[Bt][e]=(r||0)+1):2==n&&(i.duration_count[t]+=1))},function(n,t){n&&(o[2]+=n[t],i.error_count[t]+=1)},function(){return[o,i]},n]},zt=function(){var o={start:Y(),end:0,time_spent:0,is_bounced:!1,entry:"",exit:"",p_count:0,a_count:0};return[function(n,t){var e=C(n,3),r=e[0],n=e[1],e=e[2];o.end=Y(),o.time_spent+=t&&t.time_spent||0,o.last_page=t,o.p_count+=1,o.rank=r,o.apdex=n,o.apdex_detail=e;e=K();e&&(o.is_bounced=!_t(e))},function(n,t){o.time_spent+=n.time_spent,o.p_count+=1,o.exit=t},function(){o.a_count+=1},function(n){o.entry=n,o.exit=n},function(){return o}]},Ft="pageview",Xt={sendInit:!0,routeMode:"history",apdex:2};function Wt(t,n,e,r,o){var i,u=(c=C(o,2))[0],a=c[1],o=Z(),c=V(),f=Kt(n,0),s=Vt(Qt,e,r);if(!c||!o)return f.isSupport=!1,s(f),0;function l(n){n=n.startTime,f.value=n,s(f)}(c=(0,C(vn(c),5)[4])(t)[0])?l(c):(r.push(Bn(o,function(n){n.name===t&&l(n)},[ne])),r.push(a[0](function(){f.isBounced=!0,s(f)})),i=function(n){n&&(f.isSupport=!1,s(f))},r.push(function(){return u[1](i)}),u[0](i))}function Gt(n,e){var r=["img","script","iframe","link","audio","video","source"],t=(n=C(dn(n,function(n){for(var t=0;t<n.length;t++)("childList"===n[t].type&&function n(t,e){for(var r=0;r<t.length;r++)if(R(e,t[r].nodeName.toLowerCase())||t[r].children&&n(t[r].children,e))return 1}(n[t].addedNodes,r)||"attributes"===n[t].type&&R(r,n[t].target.nodeName.toLowerCase()))&&e(n[t])}),2))[0];return[function(){return t(document,{attributes:!0,childList:!0,subtree:!0,attributeFilter:["href","src"]})},n[1]]}function Jt(n,t){var e=n.startTime,r=n.duration;n.start=e,n.end=e+r,t.push(n)}function Yt(n,t,e,r){var o=(l=C(e,5))[0],i=l[1],u=l[2],a=l[3],c=l[4],f=Kt(te,0),s=Vt(Qt,n,t),e=V(),l=Z(),d=void 0===(r=(n=r||{}).entries)?[]:r,p=n.observer;if(t.push(function(){p&&p.disconnect(),d.length=0}),!window||!XMLHttpRequest||!e||!l||l.supportedEntryTypes&&!R(l.supportedEntryTypes||[],Dn[0]))return f.isSupport=!1,s(f),0;var v=(n=C(vn(e),5))[0],h=n[1],g=n[4],e=(l=C(re(h),3))[0],n=l[1],m=l[2],y=(a=C(ue(t,[o,i,u,a,Q()],d)(m,h),2))[0],b=a[1];function _(n){f.value=n,s(f)}t.push(n),n=y[y.length-1],e(function(){return function(n){var t=g(Zt)[0],t=ie((t?t.startTime:oe(v))||0,oe(v)||0,b(),h(),y);if(!t)return m(h()+1e3);n(t)}(_)},Math.max(b()+ee,n?n.end:0)),t.push(c[0](function(){f.isSupport=!1,s(f)}))}var $t={isSupport:!0,isPolyfill:!1,isBounced:!1,isCustom:!1,type:"perf"},Kt=function(n,t){return w({name:n,value:t},$t)},Vt=function(t,e,r){var o=!1;return function(n){r.length&&r.forEach(function(n){n()}),r.length=0,o||(o=!0,e&&e(t(n)))}},Qt=function(n,t){return{ev_type:Wn,payload:n,overrides:t}},Zt="first-contentful-paint",ne="paint",te="tti",ee=5e3,re=function(t){function e(n){n<o||!r||(u(),i=window.setTimeout(r,n-t()),o=n)}var r,o=-1/0,i=void 0,u=function(){return window.clearTimeout(i)};return[function(n,t){r=n,e(t)},function(){u(),r=void 0},e]},oe=function(n){var t=n||{},n=t.domContentLoadedEventEnd,t=t.navigationStart;return n?n-(void 0===t?0:t):null},ie=function(n,t,e,r,o){if(r-e<ee)return null;o=0===o.length?n:o[o.length-1].end;return r-o<ee?null:Math.max(o,t)},ue=function(d,n,p){var n=C(n,5),v=n[0],h=n[1],g=n[2],m=n[3],y=n[4];return function(e,n){var r,o=[],i=[],t=C([r={},function(n,t){return r[n]=t},function(n){return delete r[n]}],3),u=t[0],a=t[1],c=t[2];p.forEach(function(n){n.entryType===Dn[0]&&Jt(n,o)});var f=0;d.push(v[0](function(n){if("get"!==(C(n,1)[0]||"").toLowerCase())return E;var t=f+=1;return a(t,Y()),function(){c(t)}})),d.push(h[0](function(n){var t=C(n,2),n=t[0],t=t[1];if(!window.Request||"get"!==ft(n,t,window.Request))return E;var e=f+=1;return a(e,Y()),function(){c(e)}}));var s=C(y&&Gt(y,function(){return e(n()+ee)})||[],2),t=s[0],s=s[1];t&&t();function l(){return function(n,t,e){if(2<n.length)return e();for(var r=[],o=0;o<t.length;o++)r.push([t[o].start,0],[t[o].end,1]);for(o=0;o<n.length;o++)r.push([n[o],0]);r.sort(function(n,t){return n[0]-t[0]});for(var i=n.length,o=r.length-1;0<=o;o--){var u=C(r[o],2),a=u[0];switch(u[1]){case 0:i--;break;case 1:if(2<++i)return a}}return 0}(function(n){for(var t=Object.keys(n),e=[],r=0;r<t.length;r++){var o=n[t[r]];"number"==typeof o&&e.push(o)}return e}(u),i,n)}return s&&d.push(s),d.push(g[0](function(n){Jt(n,o);var t=n.startTime,n=n.duration;e(t+n+ee)})),d.push(m[0](function(n){var t=n.fetchStart,n=n.responseEnd;i.push({start:t,end:n}),e(l()+ee)})),d.push(function(){o.length=0,i.length=0}),[o,l]}};function ae(n,e,t){var r=(a=C(t,2))[0],o=a[1],i=K(),u=Q(),a=(t=V())&&t.timing&&t.timing.navigationStart||void 0,c=Kt(ce,0),f=Vt(Qt,n,e);if(!i||!u||!a)return c.isSupport=!1,f(c),0;function s(){return d.push({time:Y()-l,score:se(i&&i.body,1,!1,fe)})}var l=Y(),d=[],t=function(){if($()&&"requestAnimationFrame"in window)return window.requestAnimationFrame}(),n=function(){if($()&&"cancelAnimationFrame"in window)return window.cancelAnimationFrame}(),p=C(pn(i,t,n,!0),1)[0],u=(n=C(dn(u,function(){return p(s)}),2))[0],n=n[1],v=l-(a||0);u(i,{subtree:!0,childList:!0}),e.push(n),e.push(o[0](function(){c.isSupport=!1,f(c)})),e.push(r[0](function(){var n,t;n=window.setTimeout(function(){!function(n){void 0===n&&(n=0);var t=le(d);c.value=t?t+n:0,f(c),d.length=0}(v)},200),t=e,n&&t.push(function(){return clearTimeout(n)})}))}var ce="fmp",fe=["SCRIPT","STYLE","META","HEAD"],se=function(n,e,t,r){if(!n||-1<r.indexOf(n.tagName))return 0;var o=n.children,o=[].slice.call(void 0===o?[]:o).reduceRight(function(n,t){return n+se(t,e+1,0<n,r)},0);if(o<=0&&!t){if(!l(n.getBoundingClientRect))return 0;t=n.getBoundingClientRect()||{},n=t.top,t=t.height;if(n>window.innerHeight||t<=0)return 0}return o+1+.5*e},le=function(n){var t=C(void 0===n?[]:n),n=t[0],t=t.slice(1);return t&&t.reduce(function(n,t){var e=C(n,2),r=e[0],n=e[1],e=t.score-r.score;return[t,t.time>=r.time&&n.rate<e?{time:t.time,rate:e}:n]},[n,{time:null==n?void 0:n.time,rate:0}])[1].time||0},de="fmp",pe={renderType:"CSR"};var ve=function(n){if(n&&S(n)&&n.name&&s(n.name)){var t={name:n.name,type:"event"};if("metrics"in n&&S(n.metrics)){var e=n.metrics,r={};for(o in e)a(e[o])&&(r[o]=e[o]);t.metrics=r}if("categories"in n&&S(n.categories)){var o,i=n.categories,u={};for(o in i)u[o]=f(i[o]);t.categories=u}return t}},he=function(n){if(n&&S(n)&&n.content&&s(n.content)){var t={content:f(n.content),type:"log",level:"info"};if("level"in n&&(t.level=n.level),"extra"in n&&S(n.extra)){var e,r=n.extra,o={},i={};for(e in r)a(r[e])?o[e]=r[e]:i[e]=f(r[e]);t.metrics=o,t.categories=i}return t}};function ge(n){return(null==n?void 0:n.effectiveType)||(null==n?void 0:n.type)||""}function me(n,t){var e=n.common||{};return e.sample_rate=t,n.common=e,n}function ye(n,t,e,r,o){return n?(i=o(r,t),function(){return i}):function(){return e(t)};var i}function be(n,t,e,r){if(void 0===(n=p(n,t,function(n,t){return n[t]})))return!1;var o,t="boolean"==typeof n?"bool":a(n)?"number":"string";return function(n,t,e){switch(e){case"eq":return R(t,n);case"neq":return!R(t,n);case"gt":return n>t[0];case"gte":return n>=t[0];case"lt":return n<t[0];case"lte":return n<=t[0];case"regex":return Boolean(n.match(new RegExp(t.join("|"))));case"not_regex":return!n.match(new RegExp(t.join("|")));default:return!1}}(n,(o=t,r.map(function(n){switch(o){case"number":return Number(n);case"boolean":return"1"===n;default:return String(n)}})),e)}function _e(t,n){try{return"rule"===n.type?be(t,n.field,n.op,n.values):"and"===n.type?n.children.every(function(n){return _e(t,n)}):n.children.some(function(n){return _e(t,n)})}catch(n){return cn(n),!1}}function we(){var e=$();return e&&e.navigator.sendBeacon?{get:function(){},post:function(n,t){e.navigator.sendBeacon(n,t)}}:{get:E,post:E}}function Ee(n,t,e){var r=t.url,o=t.data,i=t.success,u=void 0===i?E:i,a=void 0===(i=t.fail)?E:i,c=void 0===(i=t.getResponseText)?E:i,t=void 0!==(t=t.withCredentials)&&t;(e=new e).withCredentials=t,e.open(n,r,!0),e.setRequestHeader("Content-Type","application/json"),e.onload=function(){null!=c&&c(this.responseText);try{var n;this.responseText?(n=JSON.parse(this.responseText),u(n)):u({})}catch(n){a(n)}},e.onerror=function(){a(new Error("Network request failed"))},e.onabort=function(){a(new Error("Network request aborted"))},e.send(o)}function xe(){var t=function(){if("function"==typeof XMLHttpRequest&&l(XMLHttpRequest))return XMLHttpRequest}();return t?{get:function(n){Ee("GET",n,t)},post:function(n){Ee("POST",n,t)}}:{get:E,post:E}}var Se=function(n){var t=nn(),e=ge(t);t&&(t.onchange=function(){e=ge(t)}),n.on("report",function(n){return w(w({},n),{extra:w(w({},n.extra||{}),{network_type:e})})})},Re=function(n,t,e,r,o){if(!t)return x;var i=t.sample_rate,u=t.include_users,a=t.sample_granularity,c=t.rules,t=t.r,t=void 0===t?Math.random():t;if(R(u,n))return function(n){return me(n,1)};var f,s,l,d,p,v,h,g="session"===a,m=ye(g,i,e,t,r),y=(f=c,s=g,l=i,d=e,p=t,v=r,h={},Object.keys(f).forEach(function(n){var t=f[n],e=t.enable,r=t.sample_rate,t=t.conditional_sample_rules;e?(h[n]={enable:e,sample_rate:r,effectiveSampleRate:r*l,hit:ye(s,r,d,p,v)},t&&(h[n].conditional_hit_rules=t.map(function(n){var t=n.sample_rate,n=n.filter;return{sample_rate:t,hit:ye(s,t,d,p,v),effectiveSampleRate:t*l,filter:n}}))):h[n]={enable:e,hit:function(){return!1},sample_rate:0,effectiveSampleRate:0}}),h);return function(n){if(!m())return g&&o[0](),!1;if(!(n.ev_type in y))return me(n,i);if(!y[n.ev_type].enable)return g&&o[1](n.ev_type),!1;if(null!==(t=n.common)&&void 0!==t&&t.sample_rate)return n;var t=y[n.ev_type],e=t.conditional_hit_rules;if(e)for(var r=0;r<e.length;r++)if(_e(n,e[r].filter))return!!e[r].hit()&&me(n,e[r].effectiveSampleRate);return t.hit()?me(n,t.effectiveSampleRate):(e&&e.length||!g||o[1](n.ev_type),!1)}};function je(n){var t,e,r,o,i,u,a,c,f,s=(r=(t=n).transport,o=n.endpoint,i=n.size,u=void 0===i?10:i,a=void 0===(t=n.wait)?1e3:t,c=[],f=0,{getSize:function(){return u},getWait:function(){return a},setSize:function(n){u=n},setWait:function(n){a=n},getEndpoint:function(){return o},setEndpoint:function(n){o=n},send:function(n){c.push(n),c.length>=u&&l.call(this),clearTimeout(f),f=setTimeout(l.bind(this),a)},flush:function(){clearTimeout(f),l.call(this)},getBatchData:function(){return c.length?v(c):""},clear:function(){clearTimeout(f),c=[]},fail:function(n){e=n}});function l(){var t;c.length&&(t=this.getBatchData(),r.post({url:o,data:t,fail:function(n){e&&e(n,t)}}),c=[])}function d(n){p.post(s.getEndpoint(),v([n]))}var p=we();return mn(function(){var n=s.getBatchData();n&&(p.post(s.getEndpoint(),n),s.clear()),s.send=d}),s}var Oe="https://"+(rn((null===(jr=tn())||void 0===jr?void 0:jr.getAttribute("src"))||"").domain||"lf3-short.ibytedapm.com")+"/slardar/fe/sdk-web/plugins",Ce="1.11.0",Te="/monitor_web/settings/browser-settings",Ae="/monitor_browser/collect/batch/",Le=["/log/sentry/",Ae,Te],ke="session",Ie=["blankScreen","action"],qe={sample_rate:1,include_users:[],sample_granularity:ke,rules:{}},De=20,Ne="";function Be(n,t,e){var r,o,i;void 0===e&&(e=Ue),r=function(){n.on("init",function(){e(n,t)})},o=$(),i=K(),o&&i&&("complete"!==i.readyState?o.addEventListener("load",function(){setTimeout(function(){r()},0)},!1):r())}function Pe(o){return function(n,t){var e,r=o.config().pluginBundle;o.destroyAgent.has(n)&&o.destroyAgent.remove(n),void 0!==t&&o.set({plugins:w(w({},o.config().plugins),((e={})[n]=t,e))}),(r&&~r.plugins.indexOf(n)?He:Me)([n],o)}}var He=function(n,t,e,r){void 0===r&&(r=ze);var o=t.config(),i=o.plugins,o=o.pluginBundle,u=n.filter(function(n){return i[n]&&!t.destroyAgent.has(n)}),n=function(){return u.forEach(function(n){return Fe(t,n,e)})};u.every(function(n){return We(n,e)})?n():r(t,{name:o.name},n)},Me=function(n,t,e,r){void 0===r&&(r=ze);var o=t.config().plugins;n.filter(function(n){return o[n]&&!t.destroyAgent.has(n)}).forEach(function(n){We(n,e)?Fe(t,n,e):r(t,{name:n,config:o[n]},function(){return Fe(t,n,e)})})};function Ue(n,t,e){void 0===e&&(e=ze);var r=n.config().pluginBundle,r=r?r.plugins:[];He(r,n,t,e),Me(Ie,n,t,e),n.provide("reloadPlugin",Pe(n))}function ze(n,t,e,r){var o=t.name,t=t.config;(r=void 0===r?_n:r)((n=n,o=o,null!==(t=null==(t=t)?void 0:t.path)&&void 0!==t?t:n.config().pluginPathPrefix+"/"+c(o)+"."+Ce+"."+Ne+"js"),function(){e()})}function Fe(n,t,e){if(e=void 0===e?ln($()):e){e=Xe(e,t);if(e)try{if(n.destroyAgent.has(t))return;e.apply(n)}catch(n){cn(n),O("[loader].applyPlugin failed",t,n)}else O("[loader].applyPlugin not found",t)}}function Xe(n,t){return n.plugins.filter(function(n){return n.name===t&&n.version===Ce})[0]}function We(n,t){return!(!(t=void 0===t?ln($()):t)||!t.plugins)&&!!Xe(t,n)}function Ge(n,t,e){(e=void 0===e?ln($()):e)&&e.plugins&&(Xe(e,n)||e.plugins.push({name:n,version:Ce,apply:t}))}function Je(n){var t,e=n.plugins||{};for(t in e)e[t]&&!S(e[t])&&(e[t]={});return w(w({},n),{plugins:e})}function Ye(n){return S(n)&&"bid"in n}function $e(n){return w({},n)}function Ke(r){var o=[];return r.observe=function(n){o.push(n)},r.push=function(){for(var n,t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.forEach(function(t){o.forEach(function(n){return n(t)})}),(n=[].push).call.apply(n,b([r],C(t),!1))},r}function Ve(){var n=$(),t=K();if(n&&t)return(null===(t=null===(t=null===(t=tn())||void 0===t?void 0:t.getAttribute("src"))||void 0===t?void 0:t.match(/globalName=(.+)$/))||void 0===t?void 0:t[1])||"Slardar"}function Qe(n){return"SLARDAR"+n}function Ze(n,t){void 0===n&&(n="");var e={userId:q(),deviceId:q()};return t<=0?e:(function(n,t){var e=localStorage.getItem(n);if(e&&yn()&&"{"===e[0])try{xn(n,JSON.parse(e),t)}catch(n){}}(n=Qe(n),t),En(n)||e)}var nr=function(n,t){return void 0===t&&(t=Ae),(n&&0<=n.indexOf("//")?"":"https://")+n+t},tr=q,n={get:function(){return this.__SLARDAR__REPALCE__HOLDER__}},er=function(t){var o,i,u=t,a={},c=n.get(),f=E,e=E;return{getConfig:function(){return u},setConfig:function(n){var t,e,r;return a=w(w({},a),n||{}),s(),o||(o=n,u.useLocalConfig||!u.bid?(i={},f()):c?l():(t=u.transport,e=u.domain,n=u.bid,r=function(n){c=n,l()},t.get({withCredentials:!0,url:function(n,t){return void 0===t&&(t=Te),(n&&0<=n.indexOf("//")?"":"https://")+n+t}(e)+"?bid="+n+"&store=1",success:function(n){r(n.data||{})},fail:function(){r({sample:{sample_rate:.001}})}}))),u},onChange:function(n){e=n},onReady:function(o){f=function(){var n,t,e,r;t=(n=u).bid,e=n.userId,r=n.deviceId,n=n.storageExpires,t=Qe(t),xn(t,{userId:e,deviceId:r},Sn(n)),o()},i&&f()}};function s(){var n=w(w(w({},t),i||{}),a);n.plugins=function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];for(var e={},r=0;r<n.length;)e=d(e,n[r++]);return e}(t.plugins,(null==i?void 0:i.plugins)||{},a.plugins||{}),n.sample=rr(rr(t.sample,null==i?void 0:i.sample),a.sample),u=n,e()}function l(){i=function(n){if(!n)return{};var t=n.sample,e=n.plugins,r=n.timestamp,o=n.quota_rate,i=n.apdex;if(!t)return{};var u=t.sample_rate,a=t.sample_granularity,n=t.include_users,t=t.rules;return{sample:{include_users:n,sample_rate:u*(void 0===o?1:o),sample_granularity:void 0===a?ke:a,rules:(void 0===t?[]:t).reduce(function(n,t){var e=t.name,r=t.enable,o=t.sample_rate,t=t.conditional_sample_rules;return n[e]={enable:r,sample_rate:o,conditional_sample_rules:t},n},{})},plugins:{heatmap:null!==(e=null==e?void 0:e.heatmap)&&void 0!==e&&e},apdex:i,serverTimestamp:r}}(c),s(),f()}};function rr(r,o){if(!r||!o)return r||o;var n=w(w({},r),o);return n.include_users=b(b([],C(r.include_users||[]),!1),C(o.include_users||[]),!1),n.rules=b(b([],C(Object.keys(r.rules||{})),!1),C(Object.keys(o.rules||{})),!1).reduce(function(n,t){var e;return t in n||(t in(r.rules||{})&&t in(o.rules||{})?(n[t]=w(w({},r.rules[t]),o.rules[t]),n[t].conditional_sample_rules=b(b([],C(r.rules[t].conditional_sample_rules||[]),!1),C(o.rules[t].conditional_sample_rules||[]),!1)):n[t]=(null===(e=r.rules)||void 0===e?void 0:e[t])||(null===(e=o.rules)||void 0===e?void 0:e[t])),n},{}),n}function or(n){var n=(t=C(n,2))[0],t=t[1];return{ev_type:zn,payload:{error:yt(n),breadcrumbs:[],extra:t||{}},extra:{bid:"slardar_sdk"}}}function ir(n){var t=(e=void 0===n?{}:n).createSender,n=e.builder,e=e.createDefaultConfig,r=function(n){var e,r,t=n.builder,o=n.createSender,i=n.createDefaultConfig,u=n.createConfigManager,a=n.userConfigNormalizer,c=n.initConfigNormalizer,f=n.validateInitConfig,s={};_.forEach(function(n){return s[n]=[]});var l=!1,d=!1,p=!1,v=[],h=[],g=H(),m={getBuilder:function(){return t},getSender:function(){return e},getPreStartQueue:function(){return v},init:function(n){if(l)O("already inited");else{if(!(n&&S(n)&&f(n)))throw new Error("invalid InitConfig, init failed");var t=i(n);if(!t)throw new Error("defaultConfig missing");n=c(n);if((r=u(t)).setConfig(n),r.onChange(function(){y("config")}),!(e=o(r.getConfig())))throw new Error("sender missing");y("init",l=!0)}},set:function(n){l&&n&&S(n)&&(y("beforeConfig",!1,n),null!=r&&r.setConfig(n))},config:function(n){if(l)return n&&S(n)&&(y("beforeConfig",!1,n),null!=r&&r.setConfig(a(n))),null==r?void 0:r.getConfig()},provide:function(n,t){R(h,n)?O("cannot provide "+n+", reserved"):(m[n]=t,y("provide",!1,n))},start:function(){var t=this;l&&(d||null!=r&&r.onReady(function(){y("start",d=!0),v.forEach(function(n){return t.build(n)}),v.length=0}))},report:function(n){n&&(!(n=T(s.beforeReport)(n))||(n=T(s.report)(n))&&(d?this.build(n):v.push(n)))},build:function(n){!d||(n=T(s.beforeBuild)(n))&&(!(n=t.build(n))||(n=T(s.build)(n))&&this.send(n))},send:function(n){!d||(n=T(s.beforeSend)(n))&&(e.send(n),y("send",!1,n))},destroy:function(){g.clear(),p=!0,y("beforeDestroy",!(v.length=0))},on:function(n,t){if("init"===n&&l||"start"===n&&d||"beforeDestroy"===n&&p)try{t()}catch(n){}else s[n]&&s[n].push(t)},off:function(n,t){s[n]&&(s[n]=j(s[n],t))},destroyAgent:g},h=Object.keys(m);return m;function y(n,t){void 0===t&&(t=!1);for(var e=[],r=2;r<arguments.length;r++)e[r-2]=arguments[r];s[n].forEach(function(n){try{n.apply(void 0,b([],C(e),!1))}catch(n){}}),t&&(s[n].length=0)}}({validateInitConfig:Ye,initConfigNormalizer:Je,userConfigNormalizer:$e,createSender:void 0===t?function(n){return je({size:De,endpoint:nr(n.domain),transport:n.transport})}:t,builder:void 0===n?ar:n,createDefaultConfig:void 0===e?br:e,createConfigManager:er});hr(r),U(r);var o,i,u,e=ln($());return o=r,e=e&&e.subject,i=e||{},u={},o.provide("setFilter",function(n,t){u[n]||(u[n]=[]),u[n].push(t)}),o.provide("initSubject",function(n){var t=C(n,2),e=t[0],n=t[1],t=X(e),t=!!t&&u[t];return i[e]||(i[e]=P(n,function(){i[e]=void 0})),t?J(o,[e,N(i[e],t)]):i[e]}),o.provide("getSubject",function(n){return i[n]}),o.provide("privateSubject",{}),gr(r),mr(r),cr(r),Se(r),yr(r),F(e=z(r,hn,function(n,t,e){return gn(n,t)(function(){var n=C(e),t=n[0],n=n.slice(1);r[t].apply(r,b([],C(n),!1))})}),Ge),e}function ur(n){var e,i,t,r,u,o,a=ir(n=void 0===n?{}:n);return(e=a).on("start",function(){var n=e.config(),t=n.userId,n=n.sample,n=Re(t,n,L,k,[function(){e.destroy()},function(n){e.destroyAgent.removeByEvType(n)}]);e.on("build",n)}),i=a,r=sr(t=void 0===t?fr:t),n=lr(t),u=dr(i,r,t),null!==(t=i.p)&&void 0!==t&&t.a&&"observe"in i.p.a&&i.p.a.observe(function(n){var t=C(n,5);t[0];var e=t[1],r=t[2],o=t[3],n=t[4],t=i.config();vr(t,e)&&u(e,r,o,n)}),i.on("init",function(){var n,o=i.config();null!==(n=i.p)&&void 0!==n&&n.a.forEach(function(n){var t=C(n,5);t[0];var e=t[1],r=t[2],n=t[3],t=t[4];vr(o,e)&&u(e,r,n,t)}),i.p&&i.p.a&&(i.p.a.length=0),i.provide("precollect",function(n,t,e,r){void 0===e&&(e=Y()),void 0===r&&(r=location.href),vr(o,n)&&u(n,t,e,r)})}),i.on("provide",pr(i,r,n)),(o=a).provide("sendEvent",function(n){n=ve(n);n&&o.report({ev_type:Xn,payload:n,extra:{timestamp:Y()}})}),o.provide("sendLog",function(n){n=he(n);n&&o.report({ev_type:Xn,payload:n,extra:{timestamp:Y()}})}),Object.keys(_r).forEach(function(n){Ge(n,_r[n]),_r[n](a)}),Be(a),a.provide("create",ur),a}var ar={build:function(n){return{ev_type:n.ev_type,payload:n.payload,common:w(w({},n.extra||{}),n.overrides||{})}}},cr=function(n){n.on("report",function(n){return t=n,n={url:on(),timestamp:Y(),sdk_version:Ce,sdk_name:"SDK_SLARDAR_WEB"},w(w({},t),{extra:w(w({},n),t.extra||{})});var t})},fr={sri:"reportSri",st:"reportResourceError",err:"captureException",reject:"captureException"},sr=function(n){return Object.keys(n).reduce(function(n,t){return n[t]=[],n},{})},lr=function(e){return Object.keys(e).reduce(function(n,t){return n[e[t]]?n[e[t]].push(t):n[e[t]]=[t],n},{})},dr=function(o,i,u){return function(n,t,e,r){void 0===e&&(e=Y()),void 0===r&&(r=location.href);r=w(w({},hn(o)),{url:r,timestamp:e});i[n]&&(o[u[n]]?gn(o,r)(function(){o[u[n]](t)}):null!==(e=i[n])&&void 0!==e&&e.push([t,r]))}},pr=function(r,o,n){return function(e){e in n&&n[e].forEach(function(n){var t;null!==(t=o[n])&&void 0!==t&&t.forEach(function(n){var n=C(n,2),t=n[0],n=n[1];gn(r,n)(function(){r[e](t)})}),o[n]=null})}},vr=function(n,t){return"err"===t?!1!==p(n,"plugins."+xt+".onerror",function(n,t){return n[t]}):"reject"!==t||!1!==p(n,"plugins."+xt+".onunhandledrejection",function(n,t){return n[t]})},hr=function(t,n){void 0===n&&(n=.001);var e=ln($());e&&(e.errors||(e.errors=[]),"observe"in e.errors||L(n)&&(e.errors=Ke(e.errors),e.errors.forEach(function(n){t.report(or(n))}),e.errors.observe(function(n){t.report(or(n))})))},gr=function(r){var o,i=!1;r.on("init",function(){o=(new Date).getTime(),r.on("config",function(){var n,t,e=null===(n=r.config())||void 0===n?void 0:n.serverTimestamp;isNaN(e)||Number(e)<=0||i||(i=!0,(n=(new Date).getTime())-o<700&&e&&(t=e-(n+o)/2,!isNaN(t)&&(0<t||t<-6e5)&&r.on("beforeBuild",function(n){return w(w({},n),{extra:w(w({},null!==(n=n.extra)&&void 0!==n?n:{}),{sdk_offset:null!==t?t:0})})})))})})},mr=function(r){r.on("beforeBuild",function(n){return t=n,e=r.config(),(n={}).bid=e.bid,n.pid=e.pid,n.view_id=e.viewId,n.user_id=e.userId,n.device_id=e.deviceId,n.session_id=e.sessionId,n.release=e.release,n.env=e.env,w(w({},t),{extra:w(w({},n),t.extra||{})});var t,e})},yr=function(e){e.on("start",function(){var n=e.config().bid,t=e.getSender();t.setEndpoint(t.getEndpoint()+"?biz_id="+n)})},br=function(n){var t=Sn(n.storageExpires),n=Ze(n.bid,t);return{bid:"",pid:"",viewId:wt("_"),userId:n.userId,deviceId:n.deviceId,storageExpires:t,sessionId:tr(),domain:"mon.zijieapi.com",pluginBundle:{name:"commonMonitors",plugins:["breadcrumb","jsError","performance","resourceError","resource"]},pluginPathPrefix:Oe,plugins:{ajax:{ignoreUrls:Le},fetch:{ignoreUrls:Le},breadcrumb:{},pageview:{},jsError:{},resource:{},resourceError:{},performance:{},tti:{},fmp:{},blankScreen:!1,heatmap:!1},release:"",env:"production",sample:qe,transport:xe()}},_r=((xr={})[Ft]=function(_){_.on("init",function(){var n,t,e,r,o,i,u,a,c,f,s,l,d,p,v,h,g,m,y,b=ot(_,Ft,Xt);b&&location&&(l=b.routeMode,n=b.apdex,c=_.report.bind(_),r=E,n&&(p=[],a=(f=C(function(r,t,n,e){var o=C(n,2),i=o[0],u=o[1],a=2===e.apdex,c=void 0,f=void 0,s=void 0,l=!1,d=C(Ut(),4),p=d[0],v=d[1],h=d[2],g=d[3],n=C(Ut(),4),o=n[0],e=n[1],m=n[2],y=n[3],d=C(zt(),5),b=d[0],_=d[1],w=d[2],E=d[3],x=d[4],n=C(Ht(),2),d=n[0],S=n[1];t.push(i[0](d)),a||t.push(u[0](function(){var n,t,e;l&&(n=(e=C(m(),2))[0],t=e[1],e=Pt(n,s),b([e,n,t],O()),r({ev_type:Un,payload:x()}),y())}));var R=Mt(p,v),j=Mt(o,e),O=function(){var n=C(h(),2),t=n[0],n=n[1];return{start:c[0],pid:c[1],view_id:c[2],end:Y(),time_spent:S(),apdex:t,rank:Pt(t,s),detail:n}};return t.push(function(){l=!1}),[function(n,t){if(!c)return c=[Y(),n,t],E(n),void(l=!(!s||!c));l&&(f=O(),_(f,n)),c=[Y(),n,t],g()},function(n){l&&(R(n,s),a||(j(n,s),n.ev_type===Gn&&w()))},function(n){l&&(n.payload.last=f),r(n)},function(n){if(!n)return t.forEach(function(n){return n()}),void(t.length=0);l=!(!(s=n)||!c)}]}(_.report.bind(_),p,[G(_,St),G(_,jt)],b),4))[0],t=f[1],o=f[2],e=f[3],c=o,r=a,_.on("send",t),p.push(function(){return _.off("send",t)}),_.on("start",function(){e(_.config().apdex)}),M(_,Ft,Un,p)),i=C((f=c,u=o=[],a=qt(l)?[]:[_.initSubject(Ot),_.initSubject(Ct)],c=w(w({},b),{initPid:null===(p=_.config())||void 0===p?void 0:p.pid,onPidUpdate:function(n){var t=wt(n);r(n,t),_.set({pid:n,viewId:t,actionId:void 0})}}),l=c.sendInit,b=c.initPid,d=c.routeMode,p=c.extractPid,c=c.onPidUpdate,v=qt(d)?function(){return""}:Tt(d),h=p||function(){},c=C(Lt(It(f),b||(f=location.href,null!==(b=h(f))&&void 0!==b?b:v(f)),v(location.href),c),2),g=c[0],c=c[1],qt(d)||(s=C(kt(function(n,t){return g(n,v(t),h(t))},""),1)[0],a.length&&a.forEach(function(n){return u.push(n[0](function(n){return s(d,n)}))})),l&&c(),[g.bind(null,"user_set")]),1)[0],J(_,["f_view_0",(m=_,function(n,t){var e=sn(m);t(E,function(n){e&&n(e)})})],-1),y=function(){i(_.config().pid)},_.on("config",y),o.push(function(){return _.off("config",y)}),M(_,Ft,Mn,o),_.provide("sendPageview",i))})},xr[it]=function(t){t.on("init",function(){var r,o,i,n=ot(t,it,ut);n&&(r=[],o=w(w({},n),{setContextAtReq:function(){return un(t,!0)},setTraceHeader:On(n.trace)}),i=function(){return G(t,Hn)},o.autoWrap&&Tn(r,[G(t,["xhr_0",Rn(XMLHttpRequest&&XMLHttpRequest.prototype)]),i],o),M(t,it,Fn,r),t.provide("wrapXhr",function(t){function e(){var n=new t;return Tn(r,[P(Rn(n)),i],o),n}return e.prototype=new t,["DONE","HEADERS_RECIEVED","LOADING","OPENED","UNSENT"].forEach(function(n){e[n]=t[n]}),e}))})},xr[ht]=function(e){e.on("init",function(){var n,r,o,t=ot(e,ht,gt);t&&(n=[],r=w(w({},t),{setContextAtReq:function(){return un(e,!0)},setTraceHeader:On(t.trace)}),o=function(){return G(e,Hn)},r.autoWrap&&at(n,[G(e,In),o],r),M(e,ht,Fn,n),e.provide("wrapFetch",function(t){var e=void 0;return at(n,[P(function(n){e=jn(t,n)}),o],r),e}))})},xr.tti=function(t){t.on("init",function(){var n;ot(t,"tti",{})&&(n=[],Yt(un(t),n,[G(t,["xhr_0",Rn(XMLHttpRequest&&XMLHttpRequest.prototype)]),G(t,In),G(t,Pn),G(t,Hn),J(t,["view_0",an(t)])],t.pp),M(t,"tti",Wn,n))})},xr.fmp=function(r){r.on("init",function(){var n,t,e=ot(r,de,pe);e&&(n=[],t=G(r,Rt),"SSR"===e.renderType?Wt("first-paint",de,un(r),n,[G(r,St),G(r,jt)]):ae(un(r),n,[t,J(r,["view_0",an(r)])]),M(r,de,Wn,n))})},xr),wr=ur(),Er=function(){var n=$(),t=Ve();if(n&&t)return n[t]}();Er&&["p","pp","pcErr","pcRej"].forEach(function(n){wr.provide(n,Er[n])});var xr,Sr,Rr=$(),jr=Ve();Rr&&jr&&(xr=(null==(xr=Rr[jr])?void 0:xr.q)||[],Rr[jr]=wr,xr.forEach(function(n){var t,e;e=n,n=w(w({},hn(t=wr)),{url:e.pop(),timestamp:e.pop()}),gn(t,n)(function(){t.apply(void 0,b([],C(e),!1))})}),xr.length=0,wr.p&&("observe"in wr.p.a&&console.warn("global precollect queue already updated"),wr.p.a=Ke(wr.p.a),(Sr=wr.precollect)&&wr.provide("precollect",function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];return wr.p.a.push(b(["precollect"],C(n),!1)),Sr.apply(void 0,b([],C(n),!1))})))}();
